#----------------------------------------
# Basic config
#----------------------------------------
set -g prefix C-q
unbind-key C-b
setw -g mouse on
set-option -g bell-action none
set-window-option -g monitor-activity on
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"

#----------------------------------------
# Custom commands
#----------------------------------------
bind r source-file ~/.tmux.conf
bind A command-prompt "rename-window %%"
bind i split-window -v
bind s split-window -h
bind I split-window -v \; resize-pane -D 100 \; resize-pane -U 15
bind S split-window -h \; resize-pane -R 100 \; resize-pane -L 40
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
bind -r < resize-pane -L 20
bind -r > resize-pane -R 20
bind e kill-pane
bind E kill-server
bind y set-window-option synchronize-panes on
bind Y set-window-option synchronize-panes off

#----------------------------------------
# Status line
#----------------------------------------
set-option -g status-left "#[fg=colour255,bg=colour237] Session: #S #[fg=colour255,bg=colour26]"
set-option -g status-left-length 20
set-option -g status-right-length 55
set-option -g status-right "#[fg=colour255,bg=colour237] #h | LA: #(cut -d' ' -f-3 /proc/loadavg) | %m/%d %H:%M:%S #[default]"
set-window-option -g window-status-format " #I: #W "
set-window-option -g window-status-current-format " #I: #W "
set-option -g status-position bottom

#----------------------------------------
# Color configs
#----------------------------------------
set -g status-fg white
set -g status-bg "colour234"
set -g default-terminal "screen-256color"

# Coloring current window
set-window-option -g window-status-current-fg white
set-window-option -g window-status-current-bg black
set -g message-fg black
set -g message-bg black
set -g message-attr dim

# Coloring window list
setw -g window-status-fg white
setw -g window-status-bg default
setw -g window-status-attr dim

# Highlight active window
setw -g window-status-current-fg blue
setw -g window-status-current-bg "colour236"
setw -g window-status-current-attr bright

set -g window-status-activity-bg yellow # fg and bg are flipped here due to
set -g window-status-activity-fg "colour234" # a bug in tmux

# Pain border
set -g pane-border-fg "colour237"
set -g pane-border-bg default
set -g pane-active-border-fg blue
set -g pane-active-border-bg colour236

#----------------------------------------
# Ruby
#----------------------------------------
# Enabling rbenv local
set-environment -gu RBENV_VERSION
